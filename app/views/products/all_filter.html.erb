<div style="margin-top:-20px;" class="d-flex justify-content-between">
    <div class="dropdown">
        <button class="btn btn dropdown-toggle" style="font-size: 20px;" 
        type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
        All
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
            <li><a class="dropdown-item" href="/category/2">Women</a></li>
            <li><a class="dropdown-item" href="/category/1">Men</a></li>
            <li><a class="dropdown-item" href="/category/3">Kids</a></li>
            <li><a class="dropdown-item" href="/category/new-arrivals">New</a></li>
        </ul>
    </div>
      <div class="dropdown">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link">
              <img onclick="openFilter()" src="/menu-btn.svg" alt="">
            </a>
          </li>
        </ul>
    </div>
</div>

<br/>

<h1>All</h1>
</div>
<div class="container">
      <!--Show two popular product in descending order-->
      <% @products.in_groups_of(2) do |p1, p2| %>
      <div class="row">
      <div class="col-6">
        <a href="<%=products_view_path(p1.id)%>">
            <img src=<%= p1.images.sample.url %> class="card-img " alt="...">
            <p ><%= p1.title %></p>
            <p style="margin-top: -10px;"><%= number_to_currency(p1.price, :unit => "$") %></p>
        </a>
      </div>
      <% if p2 %> <!--Take care of Odd Number-->
        <div class="col-6">
            <a href="<%=products_view_path(p2.id)%>">
                <img src=<%= p2.images.sample.url %> class="card-img " alt="...">
                <p><%= p2.title %></p>
                <p style="margin-top: -10px;"><%= number_to_currency(p2.price, :unit => "$") %></p>
            </a>
        </div>
      <% end %>
      <% end %>
  </div>
</div>

<div id="myFilter" class="sidebar" style="position: absolute; width:100%; left:100%; height:100%">
  <a href="javascript:void(0)" class="closebtn" onclick="closeFilter()">×</a>
  <h3 style="text-align: center; color: white">Filters</h1>
  
  <form action="/products/all/filter" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓">
  
    &nbsp<h1 style="color: white">Collections</h1>
    
    <p style="">Selected</p>
    <% Collection.all.each.map(&:title).uniq.each_with_index do |c, index| %>
      <input type="checkbox" data-toggle="toggle" data-onstyle="primary" data-offstyle="secondary" name="collection[<%=index %>" id="<%=c %>" data-on="<%=c %>" data-off="<%=c %>" value="<%=c %>">
    <% end %>
    &nbsp<h1 style="color: white">Colors</h1>
    <% ProductVariant.all.each.map(&:color).uniq.each_with_index do |d, index| %>
      <input type="checkbox" data-toggle="toggle" data-onstyle="primary" data-offstyle="secondary" name="color[<%=index %>" id="<%=d %>" data-on="<%=d %>" data-off="<%=d %>" value="<%=d %>">
    <% end %>
    <p style="">Selected</p>
    &nbsp<h1 style="color: white">Sizes</h1>
    <% ProductVariant.all.each.map(&:size).uniq.each_with_index do |s, index| %>
      <input type="checkbox" data-toggle="toggle" data-onstyle="primary" data-offstyle="secondary" name="size[<%=index %>" id="<%=s %>" data-on="<%=s %>" data-off="<%=s %>" value="<%=s %>">
    <% end %>
    <p style="">Selected</p>
    <hr>
    &nbsp<button type="Submit" class="btn btn-light" style="text-align: center;">Save Filter</button>
  </form>
</div>


<script>
function openFilter() {
  document.getElementById("myFilter").style.width = "100%";
  document.getElementById("myFilter").style.left = "0";
}

function closeFilter() {
  document.getElementById("myFilter").style.width = "0";
  document.getElementById("myFilter").style.left= "100%";
}
</script>